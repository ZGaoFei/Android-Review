##### 第一个面试

> **自我介绍**
>
> 先介绍姓名，然后是之前工作的地点，工作时间内容，来这边的原因

> **内存优化**
>
> 围绕着内存溢出和内存泄漏来说
>
> 内存溢出：释放强引用，用弱、软引用
>
> 内存泄漏：
>
> 1、非静态内部类和匿名内部类Handler、Thread、Runnable、AsyncTask等持有外部类的引用，activity关闭，线程未完成造成内存泄漏。使用静态内部类，当Activity销毁时及时关闭线程销毁资源
> 	2、资源未及时关闭造成内存泄漏，BraodcastReceiver，ContentObserver，Cursor，File，Stream，ContentProvider，Bitmap，动画，I/O，数据库，网络的连接等资源的使用，应该在Activity销毁时及时关闭或者注销，否则这些资源将不会被回收，造成内存泄漏。
> 	3、注册监听器，android或者自定义的监听器，在activity关闭的时候及时销毁
> 	4、静态变量activity和view会导致内存泄漏，如context或者持有context对象的view等
> 	5、单例模式造成的内存泄漏，如context的使用，单例传入的是activity的context对象，当activity关闭后，无法被回收
> 	6、使用context时，尽量使用application的context对象
> 	7、对于EventBus，RxJava等一些第三方开源框架的使用，若是在Activity销毁之前没有进行解除订阅将会导致内存泄漏。
> 	8、Timer和TimerTask导致内存泄露，当activity销毁时，及时cancel掉Timer和TimerTask
> 	9、WebView造成的内存泄漏，WebView长期占有内存不能被释放，在activity销毁时要destroy()一下

> **屏幕适配**
>
> 使用R、C来作为根布局
>
> 布局适配，使用"wrap_content"、"match_parent"和"weight“来控制视图组件的宽度和高度
> 使用dp作为计量单位，使用sp修饰字体
>
> 图片适配，使用自动拉伸位图：Nine-Patch的图片类型（.9图），提供备用位图
>
> 手动去根据不同屏幕大小计算不同的dp值
>
> 根据不同的屏幕生成不同的单位，需要给每个屏幕都适配一边
>
> 头条的适配方案

> **包大小管理**
>
> 1. 移除无用资源
> 	移除无用库、代码、图片资源、xml、assets下的资源等
>
> 2. 国际化资源配置：精确配置需要的语言，不需要的语言，对应的字符串不要打包到apk中
>
> 3. 动态库打包配置：仅配置armeabi-v7a即可运行，如果特殊要求，可酌情处理
>
> 4. 压缩代码、压缩资源
> 	图片经过tingpng压缩
> 	使用一套位图
> 	使用selector、shape代替图片
> 	使用jpg格式，非透明的大图，jpg将会比png的大小有显著的优势
> 	使用webp格式，Android 4.0+开始原生支持，但是不支持包含透明度，直到Android 4.2.1+才支持显示含透明度的webp，
>
> 5. 资源混淆
> 	minifyEnabled = true，开启代码混淆
> 	shrinkResources = true 去除无用资源
>
> 6. svg图片优化

> **项目中的难点**
>
> 1、RN加载不规则大图问题
>
> 2、圈子大列表+滑动视频自动播放，原先的设计方案有问题，每个item中都有一个ViewView
>
> 3、隐私权限的问题

> **对自己的评价**
>
> 缺点：
>
> 1、以前遇到问题，总是喜欢一个人去研究，而不是与同事交流，有可能了解这些问题，减少时间
>
> 2、不是特别会拒绝别人，导致自己的时间安排上会有冲突，现在通过时间管理，来划分事情的轻重缓急
>
> 3、与同事一块合作的时候，会比较着急，影响到同事
>
> 优点：
>
> 1、适应能力
>
> 2、喜欢打提前量

> **有什么问题问他们**
>
> 1、项目的技术选择，会用到的最新技术点
>
> 2、对跨平台的看法
>
> 3、对员工的长期发展和技术提升有没有相应的培训
>
> 4、对新入职的员工有没有类似的培训来让员工更快的进入到工作中
>
> 5、去到公司会负责哪些内容

#### 第二次面试（被虐的很惨，血虐）

> **组件之间的通信**
>
> https://www.sohu.com/a/274178317_611601
>
> https://zhanghuayang.blog.csdn.net/article/details/55213884?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-10.control&dist_request_id=&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-10.control

> **两个module之间相互有调用，如何解决（同组件之间的通信）**

> **如何实现的组件、插件化**
>
> https://blog.csdn.net/mhhyoucom/article/details/79000072?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Edefault-16.control&dist_request_id=&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Edefault-16.control

> **内存优化，在项目中都做过哪些，或者是页面优化的，或者是绘制优化的**

> **在构建项目的时候，是如何考虑的，MVP和MVVM的区别**
>
> 构建项目的时候需要考虑哪些点

> **如果让你自己实现一个推送功能，改如何设计** 
>
> https://www.cnblogs.com/hanyonglu/archive/2012/03/04/2378971.html

> **直播视频流在客户端加载的流程**
>
> https://blog.csdn.net/huaxun66/article/details/53427771?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Edefault-2.control&dist_request_id=&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Edefault-2.control

>  **HTTP和HTTPS的区别**

>  **APK包大小优化**

>  **EventBus在post的时候是如何实现的无锁化线程同步的**
>
> EventBus在post的时候使用的ThreadLocal来解决的多线程并发的问题
>
> ThreadLocal原理

>  **TCP和UDP的区别，TCP是如何保证数据发送安全的（TCP是不是安全的）**

> **View绘制的流程** 
>
> View的绘制流程包含Measure、Layout、Draw过程
>
> https://blog.csdn.net/sinat_27154507/article/details/79748010

>  **在项目中有没有统计过相关的内存、帧率、崩溃日志、推送到达率等数据，有没有关注过这些数据**

> **都了解过哪些第三方库，原理是什么**

> **匿名内部类为什么会引起内存泄漏**
>
> 1、因为匿名内部类/非静态内部类持有外部类的强引用，
>
> 引用关系：匿名内部类持有外部类的引用，而UI线程持有当前内部类的引用，一般在内部类做耗时操作的时候，当页面销毁之后，当前UI线程还持有内部类的引用，内部类又持有外部类的引用，因此会导致内存泄漏
>
> 比如Handler导致的内存泄漏，使用Handler发送消息放入消息队列，消息并不会立即被处理，有可能是延迟消息，那么在当前页面销毁的时候，UI线程还持有消息队列，消息队列中又存放这消息实体，消息又持有这Handler对象，所以导致Handler不能被及时的销毁，进而导致了内存泄漏
>
> 2、匿名内部类的作用：匿名内部类可以让外部不知道内部类的存在，从而减少代码的维护；匿名内部类可以使用外部类的变量。
>
> 3、静态内部类不持有外部类的引用，如果需要使用外部类的变量，需要将外部类的变量也设置为static的，静态变量会保存在方法区中，就可以直接引用了。

### 建议：了解第三方库，看源码，然后试着实现以下

